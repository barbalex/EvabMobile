<!DOCTYPE html>
<html>
  <head>
  	<link rel="SHORTCUT ICON" href="Bilder/favicon.ico">
  	<meta http-equiv=Content-Type content="text/html; charset=UTF-8"/>
  	<meta name="viewport" content="width=device-width, initial-scale=1"/>
  	<title>EvAB</title>
  	<link rel="stylesheet" href="style/jquery.mobile.css" type="text/css"/>
  	<link rel="stylesheet" href="style/jquery.mobile.simpledialog.css" type="text/css"/>
  	<link rel="stylesheet" href="style/evab.css" type="text/css"/>
  	<style type="text/css">.ui-icon-evab-location {background-image:url('Bilder/evab-location.png');}</style>
	<script type="text/javascript" src="vendor/couchapp/jquery.js"></script>
	<script type="text/javascript">	
		$(document).on("mobileinit", function () {
			$.mobile.buttonMarkup.hoverDelay = 0;
		});
	</script>
	<script type="text/javascript" src="vendor/couchapp/jquery.couch.js"></script>
	<script type="text/javascript" src="vendor/couchapp/jquery.couch.app.js"></script>
	<script type="text/javascript" src="vendor/couchapp/jquery.form.js"></script>
	<script type="text/javascript" src="vendor/couchapp/jquery.mobile.js"></script>
	<script type="text/javascript" src="vendor/couchapp/phonegap.js"></script>
	<script type="text/javascript" src="vendor/couchapp/evab.js"></script>
	<script type="text/javascript" src="vendor/couchapp/jquery.mobile.simpledialog.js"></script>
	<script type="text/javascript" src="vendor/couchapp/takeout.js"></script>
  </head>
  <body>
  	<div data-role="page" id="InstallierenPage">
  		<div data-role="header" data-position="fixed" data-tap-toggle="false">
  			<a href="#" id="zurückInstallieren" data-role="button" data-icon="arrow-l" data-iconpos="notext">zur Beobachtungs-Liste</a>
  			<h2>lokal installieren</h2>
  		</div>
		<div id="UserEditContent" data-role="content" style="padding:0em;">
			<p>EvAB mobile kann auch auf Ihrem PC, Handy oder Tablett als "App" installiert werden (Windows, Mac, Android, iOS).<br /><br />
			Ihre Beobachtungen werden lokal gespeichert und bei aktiver Internetverbindung dauernd mit der Datenbank im Internet synchronisiert.</p>
			<p><b>Vorteile einer lokalen Installation:</b></p>
			<ul>
				<li>Ihre Beobachtungen liegen auch bei Ihnen</li>
				<li>Im Notfall gibt es immer eine Sicherungskopie</li>
				<li>Arbeiten Sie im Feld ohne Internetverbindung? Kein Problem. Bloss die Luftbilder werden nicht angezeigt (Sie können aber mit Google Maps vorgängig 16km2 herunterladen!)</li>
				<li>Auf Mobilgeräten schonen Sie Ihren Akku</li>
				<li>Die App läuft viel schneller und flüssiger</li>
			</ul>
			<hr />
			<a href="../takeout/_show/takeout.jnlp/_design/takeout-settings.jnlp" target="_blank" data-role="button" data-inline="true">Auf PC installieren</a><br />Hinweise:
			<ul>
				<li>Funktioniert auf Windows XP, Vista, 7 und Mac OsX</li>
				<li><a href="http://www.java.com/de/download/" target="_blank">Java</a> wird vorausgesetzt</li>
				<li>Offene Ports werden vorausgesetzt (in Grossfirmen oft nicht gegeben)</li>
				<li>Die App wird in Ihrem Homeverzeichnis unter .couchapptakeout installiert</li>
				<li>Diese Funktion konnte ich nicht eingehend testen. Bitte <a href="mailto:alex.barbalex@gmail.com">teilen Sie mir Ihre Erfahrungen mit</a>.</li>
			</ul>
			<hr />
			<p>Die Apps für Android und iOS sind noch in Entwicklung.</p>
			<hr />
		</div>
	</div>
	<script type="text/javascript">
		$("#InstallierenPage").on("pageshow", function () {
			//Beim direkten Aufruf der Seite hat holeSessionStorageAusDb bei pageshow noch nicht beendet
			//darum prüfen, ob sessionStorage.InstallierenWirdInitiiert existiert und nicht true ist
			//sonst übernimmt holeSessionStorageAusDb das initiieren
			if (!sessionStorage.InstallierenWirdInitiiert) {
				initiiereUserEdit();
			}
			delete sessionStorage.InstallierenWirdInitiiert;
		});
		$(":jqmData(role='page')").on("pageinit", function () {
			//Beim direkten Aufruf dieser Seite muss die sessionStorage aus der DB gelesen werden
			//wo sie von speichereLetzteUrl gespeichert wurde
			if (sessionStorage.length === 0) {
				holeSessionStorageAusDb("Installieren");
				sessionStorage.InstallierenWirdInitiiert = true;
			}

			//zurück-Button steuern
			$("#InstallierenPage").on('click', '#zurückInstallieren', function (event) {
				var zurueck;
				event.preventDefault();
				if (sessionStorage.zurueck) {
					zurueck = sessionStorage.zurueck;
				} else {
					zurueck = "BeobListe.html";
				}
				window.open(zurueck, target = "_self")
				delete sessionStorage.zurueck;
			});
		});
	</script>
  </body>
</html>